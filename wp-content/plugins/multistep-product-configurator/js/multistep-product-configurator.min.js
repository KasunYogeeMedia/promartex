jQuery(document).ready(function(){"use strict";var e=jQuery(".mspc-wrapper"),a=e.find(".mspc-menu-item"),t=e.find(".mspc-content"),i=t.find(".mspc-variation"),s=jQuery(".variations_form"),n=s.find(".variations select"),r=[],c=!1;function d(){e.hasClass("mspc-step-by-step")&&(a.filter(":not(.active,:first)").addClass("disabled"),n.each(function(e,t){this.value&&""!=this.value&&a.filter('[data-target=".mspc-'+this.id+'"]').nextAll(".mspc-menu-item:first").removeClass("disabled")}))}function o(e){var a=jQuery(e);fancyProductDesigner&&a.data("parameters")&&"object"==typeof a.data("parameters")&&a.data("image")&&fancyProductDesigner.addElement("image",a.data("image"),a.data("title"),a.data("parameters"))}jQuery(".mspc-clear-selection").on("click",function(e){i.removeClass("active").show().find('input[type="radio"]').prop("checked",!1),s.find(".reset_variations").click(),a.removeClass("active").first().removeClass("disabled").click().addClass("active"),d(),e.preventDefault()}),i.on("click",function(){var e="undefined"!=typeof fpdWcLoadAjaxProduct&&fpdWcLoadAjaxProduct,a=jQuery(this);e||(a.parents(".mspc-variations").find(".mspc-variation").removeClass("active"),a.addClass("active").find('input[type="radio"]').prop("checked",!0).change(),"fpd-ready"===r&&o(a))}),n.each(function(a,t){var i=jQuery('input[name="'+this.id+'"]').filter('[value="'+jQuery(this).val()+'"]').parents(".mspc-variation");if(i.size()&&r.push(i),a==n.size()-1)for(var s=0;s<r.length;s++)r[s].click();e.trigger("mspc_defaults_set")}),t.find('.mspc-variation input[type="radio"]').change(function(){var a=jQuery(".mspc-variations").index(jQuery(this).parents(".mspc-variations"));n.eq(a).focusin().val(this.value).change(),d(),e.hasClass("mspc-auto-next")&&jQuery(".mspc-menu-item.active").nextAll(".mspc-menu-item:first").click(),e.trigger("mspc_variation_change",[a,this.value])}),a.on("click",function(s){var n=jQuery(this),r=n.data("target").replace(".mspc-",""),d=jQuery("select#"+r).focusin();if(n.hasClass("disabled"))return!1;if(d.children("option.active,option.enabled").size()>0&&i.find('input[type="radio"]').filter('[name="'+r+'"]').parents(".mspc-variation").hide(),d.children("option.active,option.enabled").each(function(e,a){var t=jQuery(a).parent("select").attr("id");i.find('input[type="radio"]').filter('[name="'+t+'"]').filter('[value="'+a.value+'"]').parents(".mspc-variation:first").show()}),e.find(".mspc-accordion").size()>0){if(!n.hasClass("active")){a.children(".icon").removeClass("minus").addClass("add"),n.children(".icon").removeClass("add").addClass("minus");t.slideUp(300),n.next(".mspc-content:first").delay(300).slideDown(300,function(){e.hasClass("mspc-auto-scroll")&&c&&jQuery([document.documentElement,document.body]).animate({scrollTop:n.offset().top},0),c=!0})}}else t.find(".mspc-tab-content").hide(),jQuery(n.data("target")).show();a.removeClass("active"),n.addClass("active"),s.preventDefault()}),setTimeout(function(){a.first().click()},10),jQuery(".fpd-container").on("productCreate",function(){if(-1==document.URL.search("cart_item_key")){for(var e=0;e<r.length;++e)o(r[e]);jQuery(".fpd-container").trigger("mspc_init_variations_set")}r="fpd-ready"}),a.first().click().addClass("active"),d()});